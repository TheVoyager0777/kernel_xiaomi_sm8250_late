# Disable Unused Modules
# CONFIG_MSM_11AD is not set
# CONFIG_MSM_RDBG is not set
# CONFIG_USB_GSPCA is not set
# CONFIG_DVB_MPQ is not set
# CONFIG_QCOM_LLCC_PERFMON is not set

# Enable block device writeback throttling
CONFIG_BLK_WBT=y
CONFIG_BLK_WBT_SQ=y

# Enable QCA CLD WLAN
CONFIG_QCA_CLD_WLAN=y
CONFIG_QCA_CLD_WLAN_PROFILE="qca6390"

# Build DTBO.img
CONFIG_BUILD_ARM64_DT_OVERLAY=y

# Force load modules
CONFIG_MODULE_FORCE_LOAD=y

# Disable Maxim fan controller
# CONFIG_QTI_MAXIM_FAN_CONTROLLER is not set

# Set SMP2P sleepstate time to 100ms
CONFIG_SMP2P_SLEEPSTATE_TIME=100

# Disable unused IO schedulers
# CONFIG_IOSCHED_BFQ is not set
# CONFIG_BFQ_GROUP_IOSCHED is not set
# CONFIG_IOSCHED_DEADLINE is not set
# CONFIG_MQ_IOSCHED_DEADLINE is not set
# CONFIG_MQ_IOSCHED_KYBER is not set

# Disable PASR
# CONFIG_MEMORY_HOTPLUG is not set
# CONFIG_QCOM_MEM_OFFLINE is not set

# Skip file system sync in suspend
CONFIG_SUSPEND_SKIP_SYNC=y

# Enable WIREGUARD VPN support
CONFIG_WIREGUARD=y

# Enable advanced tcp congestion controls
CONFIG_TCP_CONG_ADVANCED=y

# Disable unused tcp congestion modules
# CONFIG_TCP_CONG_BIC is not set
# CONFIG_TCP_CONG_WESTWOOD is not set
# CONFIG_TCP_CONG_HTCP is not set

# Enable lia/olia tcp for mptcp
CONFIG_TCP_CONG_LIA=y
CONFIG_TCP_CONG_OLIA=y
CONFIG_DEFAULT_OLIA=y

# Enable Multipath TCP with fullmesh
CONFIG_MPTCP=y
CONFIG_MPTCP_PM_ADVANCED=y
CONFIG_MPTCP_FULLMESH=y
CONFIG_DEFAULT_FULLMESH=y
CONFIG_MPTCP_SCHED_ADVANCED=y
CONFIG_MPTCP_ROUNDROBIN=y
CONFIG_MPTCP_REDUNDANT=y
CONFIG_DEFAULT_ROUNDROBIN=y

# Enable zRAM LRU writeback optimization
CONFIG_ZRAM_LRU_WRITEBACK=y

# Enable LZ4 zRAM
CONFIG_CRYPTO_LZ4=y
CONFIG_ZRAM_DEF_COMP_LZ4=y

# Enable XFRM_MIGRATE
CONFIG_XFRM_MIGRATE=y

# Enable BLAKE2b support
CONFIG_CRYPTO_BLAKE2B=y

# Disable CONFIG_FORTIFY_SOURCE
# CONFIG_FORTIFY_SOURCE is not set

# Initialize locals with zeroes
CONFIG_INIT_STACK_ALL_ZERO=y

# Enable exFAT FS
CONFIG_EXFAT_FS=y

# Enable NTFS
CONFIG_NTFS_FS=y
CONFIG_NTFS_RW=y

# Set CONFIG_HZ to 300
CONFIG_HZ_300=y

# Disable legacy cpufreq governors
# CONFIG_CPU_FREQ_GOV_POWERSAVE is not set
# CONFIG_CPU_FREQ_GOV_USERSPACE is not set
# CONFIG_CPU_FREQ_GOV_ONDEMAND is not set
# CONFIG_CPU_FREQ_GOV_CONSERVATIVE is not set

# Disable AUDIT
# CONFIG_AUDIT is not set

# Set cake as default qdisc
CONFIG_NET_SCH_DEFAULT=y
CONFIG_NET_SCH_CAKE=y
CONFIG_DEFAULT_CAKE=y

# unset unused DM_CRYPT Kconfig
# CONFIG_DM_CRYPT is not set

# Enable CONFIG_INIT_ON_ALLOC_DEFAULT_ON
CONFIG_INIT_ON_ALLOC_DEFAULT_ON=y

# Remove unused configs
# CONFIG_RD_BZIP2 is not set
# CONFIG_RD_LZMA is not set
# CONFIG_SYSFS_SYSCALL is not set
# CONFIG_CHR_DEV_SCH is not set
# CONFIG_VGA_ARB is not set
# CONFIG_QCOM_MINIDUMP is not set

# Set CONFIG_DEFAULT_MMAP_MIN_ADDR to 32768
CONFIG_DEFAULT_MMAP_MIN_ADDR=32768

# Do not select CONFIG_FB for CONFIG_DRM
# CONFIG_FB_ARMCLCD is not set
CONFIG_BACKLIGHT_LCD_SUPPORT=y
CONFIG_BACKLIGHT_CLASS_DEVICE=y
# CONFIG_LOGO is not set

# Enable CONFIG_ION_SYSTEM_HEAP
CONFIG_ION_SYSTEM_HEAP=y

# Disable BALANCE_ANON_FILE_RECLAIM
# CONFIG_BALANCE_ANON_FILE_RECLAIM is not set

# Disable ION_POOL_AUTO_REFILL
# CONFIG_ION_POOL_AUTO_REFILL is not set

# Enable CONFIG_CRYPTO_CHACHA20POLY1305
CONFIG_CRYPTO_CHACHA20POLY1305=y

# Disable CONFIG_RSEQ
# CONFIG_RSEQ is not set

# Enable CONFIG_JUMP_LABEL
CONFIG_JUMP_LABEL=y

# Disable PPP
# CONFIG_PPP is not set

# Disable all kernel symbols generation
# CONFIG_KALLSYMS_ALL is not set

# Disable radio support
# CONFIG_MEDIA_RADIO_SUPPORT is not set
# CONFIG_I2C_RTC6226_QCA is not set

# Disable noop
# CONFIG_IOSCHED_NOOP is not set

# Disable unused net schedulers
# CONFIG_NET_SCH_HTB is not set
# CONFIG_NET_SCH_PRIO is not set
# CONFIG_NET_SCH_MULTIQ is not set
# CONFIG_NET_SCH_NETEM is not set
# CONFIG_NET_SCH_INGRESS is not set

# Set FQ Codel as default net scheduler
CONFIG_NET_SCH_FQ_CODEL=y
CONFIG_NET_SCH_DEFAULT=y
CONFIG_DEFAULT_FQ_CODEL=y

# Disable IPC Logging
# CONFIG_IPC_LOGGING is not set

# Disable Coresight
# CONFIG_CORESIGHT is not set

# Enable Coresight placeholder
CONFIG_CORESIGHT_PLACEHOLDER=y
CONFIG_CORESIGHT_AMBA_PLACEHOLDER=y

# Disable Privileged Access Never (PAN) emulation
# CONFIG_ARM64_SW_TTBR0_PAN is not set

# Disable broken QHEE kernel memory protection
# CONFIG_QCOM_QHEE_ENABLE_MEM_PROTECTION is not set

# Disable eMMC support
# CONFIG_MMC is not set

# Disable EL2 vector hardening
# CONFIG_HARDEN_EL2_VECTORS is not set

# Disable stability debug configs
# CONFIG_EDAC_KRYO_ARM64_PANIC_ON_UE is not set

# enable ftrace
CONFIG_FTRACE=y

# Set cpumask
CONFIG_LITTLE_CPU_MASK=15
CONFIG_BIG_CPU_MASK=112
CONFIG_PRIME_CPU_MASK=128

# Set cpuset
CONFIG_CPUSET_ASSIST=y
CONFIG_CPUSET_AUDIO_APP="0-3"
CONFIG_CPUSET_CAMERA="0-3"
CONFIG_CPUSET_FG="0-6"
CONFIG_CPUSET_RESTRICTED="0-3"

# Enable userspace CNTVCT_EL0 access for vDSO
CONFIG_ARM_ARCH_TIMER_VCT_ACCESS=y

# Disable EL2 vector hardening
# CONFIG_HARDEN_EL2_VECTORS is not set

# Disable autogroup & use CGROUP
CONFIG_CGROUPS=y
CONFIG_CGROUP_SCHEDTUNE=y
CONFIG_CGROUP_SCHED=y
# CONFIG_SCHED_AUTOGROUP is not set

# Disable coresight
# CONFIG_CORESIGHT is not set

# Disable MSM_PERFORMANCE
# CONFIG_MSM_PERFORMANCE is not set

# Disable qti core control
# CONFIG_SCHED_CORE_CTL is not set

# Enable coresight placeholder
CONFIG_CORESIGHT_PLACEHOLDER=y
CONFIG_CORESIGHT_AMBA_PLACEHOLDER=y

# Increase vmstat interval to 20 seconds
CONFIG_VMSTAT_INTERVAL=20

# Enable jump label
CONFIG_JUMP_LABEL=y

# Disable SLUB per-CPU partial caches
# CONFIG_SLUB_CPU_PARTIAL is not set

# Disable unused wlan drivers
# CONFIG_WLAN_VENDOR_ADMTEK is not set
# CONFIG_WLAN_VENDOR_ATH is not set
# CONFIG_WLAN_VENDOR_ATMEL is not set
# CONFIG_WLAN_VENDOR_BROADCOM is not set
# CONFIG_WLAN_VENDOR_CISCO is not set
# CONFIG_WLAN_VENDOR_INTEL is not set
# CONFIG_WLAN_VENDOR_INTERSIL is not set
# CONFIG_WLAN_VENDOR_MARVELL is not set
# CONFIG_WLAN_VENDOR_MEDIATEK is not set
# CONFIG_WLAN_VENDOR_RALINK is not set
# CONFIG_WLAN_VENDOR_REALTEK is not set
# CONFIG_WLAN_VENDOR_RSI is not set
# CONFIG_WLAN_VENDOR_ST is not set
# CONFIG_WLAN_VENDOR_TI is not set
# CONFIG_WLAN_VENDOR_ZYDAS is not set
# CONFIG_WLAN_VENDOR_QUANTENNA is not set

#Disable IPC & RTB DEBUG PART
# CONFIG_IPC_LOGGING is not set

# Remove debug stuff
# CONFIG_DEBUG_INFO is not set
# CONFIG_SCHEDSTATS is not set
# CONFIG_DEBUG_LIST is not set

# Disable unused qdiscs
# CONFIG_NET_SCH_CBQ is not set
# CONFIG_NET_SCH_HTB is not set
# CONFIG_NET_SCH_HFSC is not set
# CONFIG_NET_SCH_PRIO is not set
# CONFIG_NET_SCH_MULTIQ is not set
# CONFIG_NET_SCH_RED is not set
# CONFIG_NET_SCH_SFB is not set
# CONFIG_NET_SCH_SFQ is not set
# CONFIG_NET_SCH_TEQL is not set
# CONFIG_NET_SCH_TBF is not set
# CONFIG_NET_SCH_GRED is not set
# CONFIG_NET_SCH_DSMARK is not set
# CONFIG_NET_SCH_NETEM is not set
# CONFIG_NET_SCH_DRR is not set
# CONFIG_NET_SCH_MQPRIO is not set
# CONFIG_NET_SCH_CHOKE is not set
# CONFIG_NET_SCH_QFQ is not set
# CONFIG_NET_SCH_INGRESS is not set

# Disable CONFIG_DEBUG_ALIGN_RODATA
# CONFIG_DEBUG_ALIGN_RODATA is not set

# Disable unused errata
# CONFIG_ARM64_ERRATUM_826319 is not set
# CONFIG_ARM64_ERRATUM_827319 is not set
# CONFIG_ARM64_ERRATUM_824069 is not set
# CONFIG_ARM64_ERRATUM_819472 is not set
# CONFIG_ARM64_ERRATUM_832075 is not set
# CONFIG_ARM64_ERRATUM_845719 is not set
# CONFIG_ARM64_ERRATUM_843419 is not set
# CONFIG_ARM64_ERRATUM_1188873 is not set
# CONFIG_ARM64_ERRATUM_1463225 is not set
# CONFIG_ARM64_ERRATUM_1542419 is not set
# CONFIG_CAVIUM_ERRATUM_22375 is not set
# CONFIG_CAVIUM_ERRATUM_23154 is not set
# CONFIG_CAVIUM_ERRATUM_27456 is not set
# CONFIG_CAVIUM_ERRATUM_30115 is not set
# CONFIG_QCOM_FALKOR_ERRATUM_1003 is not set
# CONFIG_QCOM_FALKOR_ERRATUM_1009 is not set
# CONFIG_QCOM_QDF2400_ERRATUM_0065 is not set
# CONFIG_SOCIONEXT_SYNQUACER_PREITS is not set
# CONFIG_HISILICON_ERRATUM_161600802 is not set
# CONFIG_QCOM_FALKOR_ERRATUM_E1041 is not set

# Disable stability debug configs
# CONFIG_EDAC_KRYO_ARM64_PANIC_ON_UE is not set

# Disable cavium hw random support
# CONFIG_HW_RANDOM_CAVIUM is not set

# Disable dev coredump
# CONFIG_ALLOW_DEV_COREDUMP is not set

# Disable scsi logging
# CONFIG_SCSI_CONSTANTS is not set
# CONFIG_SCSI_LOGGING is not set

# Disable msm boot stats
# CONFIG_MSM_BOOT_STATS is not set

# Disable ddr stats logging
# CONFIG_QTI_DDR_STATS_LOG is not set

# Disable generic sound drivers and pci sound devices
# CONFIG_SND_DRIVERS is not set
# CONFIG_SND_PCI is not set

# Disable Privileged Access Never (PAN) emulation
# CONFIG_ARM64_SW_TTBR0_PAN is not set

# Enable RELR
CONFIG_TOOLS_SUPPORT_RELR=y
CONFIG_RELR=y

# Disable video adv debug
# CONFIG_VIDEO_ADV_DEBUG is not set

# Disable cgroup freezer && fair group sched
# CONFIG_CGROUP_FREEZER is not set
# CONFIG_FAIR_GROUP_SCHED is not set

# Enable erofs
CONFIG_EROFS_FS=y
CONFIG_EROFS_FS_ZIP_LZMA=y

# Disable CPU isolation
# CONFIG_CPU_ISOLATION is not set

# Disable irq time accounting
# CONFIG_IRQ_TIME_ACCOUNTING is not set

# Disable NF ConnTrack NETLINK & Quota Interface
# CONFIG_NF_CT_NETLINK is not set
# CONFIG_QUOTA_NETLINK_INTERFACE is not set
